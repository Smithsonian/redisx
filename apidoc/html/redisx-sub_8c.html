<!-- HTML header for doxygen 1.9.7-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta charset="utf-8"/>
<meta name="description" content="A light-weight Redis client library for C/C++"/>
<meta name="keywords" content="Redis client library, C, C++, C90, software library, open source"/>
<meta name="author" content="Attila Kovacs"/>
<meta name="copyright" content="(C)2024 Attila Kovacs" />
<meta name="robots" content="index,follow"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-2L0MEN3Z8Q"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-2L0MEN3Z8Q');
</script>
<link rel="shortcut icon" type="image/x-icon" href="/redisx/resources/favicon.ico" />
<link rel="icon" type="image/png" sizes="192x192" href="/redisx/resources/android-chrome-192x192.png" />
<link rel="icon" type="image/png" sizes="512x512" href="/redisx/resources/android-chrome-512x512.png" />
<link rel="apple-touch-icon" type="image/png" href="/redisx/resources/apple-touch-icon.png" />
<title>RedisX: src/redisx-sub.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript" src="darkmode_toggle.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen_extra.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="smithsonian-logo-55x55.png"/></td>
  <td id="projectalign">
   <div id="projectname">RedisX<span id="projectnumber">&#160;v0.9</span>
   </div>
   <div id="projectbrief">A simple, light-weight Redis database client</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('redisx-sub_8c.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">redisx-sub.c File Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a4c268c33f23438af67117b09c26ec615" id="r_a4c268c33f23438af67117b09c26ec615"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="redisx-sub_8c.html#a4c268c33f23438af67117b09c26ec615">redisxAddSubscriber</a> (<a class="el" href="structRedis.html">Redis</a> *redis, const char *channelStem, <a class="el" href="redisx_8h.html#aeb7d6976a06d6b51780b1c9d3f927ef8">RedisSubscriberCall</a> f)</td></tr>
<tr class="separator:a4c268c33f23438af67117b09c26ec615"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af70948d6e1b0e3b8f4fde82d0ce27094" id="r_af70948d6e1b0e3b8f4fde82d0ce27094"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="redisx-sub_8c.html#af70948d6e1b0e3b8f4fde82d0ce27094">redisxClearSubscribers</a> (<a class="el" href="structRedis.html">Redis</a> *redis)</td></tr>
<tr class="separator:af70948d6e1b0e3b8f4fde82d0ce27094"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acaa8ac50fb154551bfebf7fafcdc3df2" id="r_acaa8ac50fb154551bfebf7fafcdc3df2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="redisx-sub_8c.html#acaa8ac50fb154551bfebf7fafcdc3df2">redisxEndSubscription</a> (<a class="el" href="structRedis.html">Redis</a> *redis)</td></tr>
<tr class="separator:acaa8ac50fb154551bfebf7fafcdc3df2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace918fd1adb80e26cfae107685a314e0" id="r_ace918fd1adb80e26cfae107685a314e0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="redisx-sub_8c.html#ace918fd1adb80e26cfae107685a314e0">redisxNotify</a> (<a class="el" href="structRedis.html">Redis</a> *redis, const char *channel, const char *message)</td></tr>
<tr class="separator:ace918fd1adb80e26cfae107685a314e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ae6a78cececda6a1a495eebefbd57e9" id="r_a3ae6a78cececda6a1a495eebefbd57e9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="redisx-sub_8c.html#a3ae6a78cececda6a1a495eebefbd57e9">redisxPublish</a> (<a class="el" href="structRedis.html">Redis</a> *redis, const char *channel, const char *data, int length)</td></tr>
<tr class="separator:a3ae6a78cececda6a1a495eebefbd57e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a89b6c2128548882616c081553ea2436c" id="r_a89b6c2128548882616c081553ea2436c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="redisx-sub_8c.html#a89b6c2128548882616c081553ea2436c">redisxPublishAsync</a> (<a class="el" href="structRedis.html">Redis</a> *redis, const char *channel, const char *data, int length)</td></tr>
<tr class="separator:a89b6c2128548882616c081553ea2436c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeda3fce11d0f9a11428ca405d1e45b69" id="r_aeda3fce11d0f9a11428ca405d1e45b69"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="redisx-sub_8c.html#aeda3fce11d0f9a11428ca405d1e45b69">redisxRemoveSubscribers</a> (<a class="el" href="structRedis.html">Redis</a> *redis, <a class="el" href="redisx_8h.html#aeb7d6976a06d6b51780b1c9d3f927ef8">RedisSubscriberCall</a> f)</td></tr>
<tr class="separator:aeda3fce11d0f9a11428ca405d1e45b69"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0aa27b4fce0d0986cae75dfe7fa12f19" id="r_a0aa27b4fce0d0986cae75dfe7fa12f19"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="redisx-sub_8c.html#a0aa27b4fce0d0986cae75dfe7fa12f19">redisxSubscribe</a> (<a class="el" href="structRedis.html">Redis</a> *redis, const char *pattern)</td></tr>
<tr class="separator:a0aa27b4fce0d0986cae75dfe7fa12f19"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:accafa9bf1ced851cc2e95c2d9fa1e9f8" id="r_accafa9bf1ced851cc2e95c2d9fa1e9f8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="redisx-sub_8c.html#accafa9bf1ced851cc2e95c2d9fa1e9f8">redisxUnsubscribe</a> (<a class="el" href="structRedis.html">Redis</a> *redis, const char *pattern)</td></tr>
<tr class="separator:accafa9bf1ced851cc2e95c2d9fa1e9f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><dl class="section date"><dt>Date</dt><dd>Created on Aug 26, 2024 </dd></dl>
<dl class="section author"><dt>Author</dt><dd>Attila Kovacs</dd></dl>
<p>PUB/SUB functions for the RedisX library. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a4c268c33f23438af67117b09c26ec615" name="a4c268c33f23438af67117b09c26ec615"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4c268c33f23438af67117b09c26ec615">&#9670;&#160;</a></span>redisxAddSubscriber()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int redisxAddSubscriber </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structRedis.html">Redis</a> *&#160;</td>
          <td class="paramname"><em>redis</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>channelStem</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="redisx_8h.html#aeb7d6976a06d6b51780b1c9d3f927ef8">RedisSubscriberCall</a>&#160;</td>
          <td class="paramname"><em>f</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Add a targeted subscriber processing function to the list of functions that process <a class="el" href="structRedis.html" title="Structure that represents a Redis database instance, with one or more RedisClient connections.">Redis</a> PUB/SUB responses. You will still have to subscribe the relevant PUB/SUB messages from redis separately, using <a class="el" href="redisx-sub_8c.html#a0aa27b4fce0d0986cae75dfe7fa12f19">redisxSubscribe()</a> before any messages are delivered to this client. If the subscriber with the same callback function and channel stem is already added, this call simply return and will NOT create a duplicate enry. However, the same callback may be added multiple times with different channel stems (which pre-filter what messages each of the callbacks may get).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">redis</td><td>Pointer to a <a class="el" href="structRedis.html" title="Structure that represents a Redis database instance, with one or more RedisClient connections.">Redis</a> instance. </td></tr>
    <tr><td class="paramname">channelStem</td><td>If NULL, the consumer will receive all <a class="el" href="structRedis.html" title="Structure that represents a Redis database instance, with one or more RedisClient connections.">Redis</a> messages published to the given channel. Otherwise, the consumer will be notified only if the incoming channel begins with the specified stem. </td></tr>
    <tr><td class="paramname">f</td><td>A function that consumes subscription messages.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="redisx-sub_8c.html#aeda3fce11d0f9a11428ca405d1e45b69">redisxRemoveSubscribers()</a> </dd>
<dd>
<a class="el" href="redisx-sub_8c.html#a0aa27b4fce0d0986cae75dfe7fa12f19">redisxSubscribe()</a> </dd></dl>

<p class="reference">References <a class="elRef" href="../../xchange/apidoc/html/xchange_8c.html#ae73aaf705dc4e7d58dfb0fd81f4805c7">x_error()</a>, <a class="elRef" href="../../xchange/apidoc/html/xchange_8h.html#aadbbe3ae01369cbddf4d57d430b33133">X_NULL</a>, <a class="elRef" href="../../xchange/apidoc/html/xchange_8h.html#a7b2679c964ea5f2160380ed55654b873">X_SUCCESS</a>, <a class="elRef" href="../../xchange/apidoc/html/xchange_8c.html#af771fbf7ea96f8051db140b1750d3a20">x_warn()</a>, <a class="elRef" href="../../xchange/apidoc/html/xchange_8h.html#a01d730a1a98963816de2dd73e72957a5">xStringCopyOf()</a>, and <a class="elRef" href="../../xchange/apidoc/html/xchange_8h.html#a1f038bf7ddb58819805cfc44162cb403">xvprintf</a>.</p>

</div>
</div>
<a id="af70948d6e1b0e3b8f4fde82d0ce27094" name="af70948d6e1b0e3b8f4fde82d0ce27094"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af70948d6e1b0e3b8f4fde82d0ce27094">&#9670;&#160;</a></span>redisxClearSubscribers()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int redisxClearSubscribers </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structRedis.html">Redis</a> *&#160;</td>
          <td class="paramname"><em>redis</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Stops the custom consumption of PUB/SUB messages from <a class="el" href="structRedis.html" title="Structure that represents a Redis database instance, with one or more RedisClient connections.">Redis</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">redis</td><td>Pointer to a <a class="el" href="structRedis.html" title="Structure that represents a Redis database instance, with one or more RedisClient connections.">Redis</a> instance.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>X_SUCCESS (0) if successful, or X_NULL if the redis instance is NULL. </dd></dl>

<p class="reference">References <a class="elRef" href="../../xchange/apidoc/html/xchange_8c.html#ae73aaf705dc4e7d58dfb0fd81f4805c7">x_error()</a>, <a class="elRef" href="../../xchange/apidoc/html/xchange_8h.html#aadbbe3ae01369cbddf4d57d430b33133">X_NULL</a>, and <a class="elRef" href="../../xchange/apidoc/html/xchange_8h.html#a1f038bf7ddb58819805cfc44162cb403">xvprintf</a>.</p>

</div>
</div>
<a id="acaa8ac50fb154551bfebf7fafcdc3df2" name="acaa8ac50fb154551bfebf7fafcdc3df2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acaa8ac50fb154551bfebf7fafcdc3df2">&#9670;&#160;</a></span>redisxEndSubscription()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int redisxEndSubscription </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structRedis.html">Redis</a> *&#160;</td>
          <td class="paramname"><em>redis</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Unsubscribes from all channels, stops the subscription listener thread, and closes the subscription client connection.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">redis</td><td>Pointer to a <a class="el" href="structRedis.html" title="Structure that represents a Redis database instance, with one or more RedisClient connections.">Redis</a> instance.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="redisx-sub_8c.html#accafa9bf1ced851cc2e95c2d9fa1e9f8">redisxUnsubscribe()</a> </dd></dl>

<p class="reference">References <a class="elRef" href="../../xchange/apidoc/html/xchange_8c.html#ae73aaf705dc4e7d58dfb0fd81f4805c7">x_error()</a>, <a class="elRef" href="../../xchange/apidoc/html/xchange_8h.html#aadbbe3ae01369cbddf4d57d430b33133">X_NULL</a>, and <a class="elRef" href="../../xchange/apidoc/html/xchange_8h.html#a7b2679c964ea5f2160380ed55654b873">X_SUCCESS</a>.</p>

</div>
</div>
<a id="ace918fd1adb80e26cfae107685a314e0" name="ace918fd1adb80e26cfae107685a314e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace918fd1adb80e26cfae107685a314e0">&#9670;&#160;</a></span>redisxNotify()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int redisxNotify </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structRedis.html">Redis</a> *&#160;</td>
          <td class="paramname"><em>redis</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>message</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sends a regular string terminated <a class="el" href="structRedis.html" title="Structure that represents a Redis database instance, with one or more RedisClient connections.">Redis</a> PUB/SUB message on the specified channel. Same as <a class="el" href="redisx-sub_8c.html#a3ae6a78cececda6a1a495eebefbd57e9">redisxPublish()</a> with the length argument set to the length of the string message. <a class="el" href="structRedis.html" title="Structure that represents a Redis database instance, with one or more RedisClient connections.">Redis</a> must be connected before attempting to send messages.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">redis</td><td>Pointer to a <a class="el" href="structRedis.html" title="Structure that represents a Redis database instance, with one or more RedisClient connections.">Redis</a> instance. </td></tr>
    <tr><td class="paramname">channel</td><td><a class="el" href="structRedis.html" title="Structure that represents a Redis database instance, with one or more RedisClient connections.">Redis</a> PUB/SUB channel on which to notify </td></tr>
    <tr><td class="paramname">message</td><td>Message to send.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>X_SUCCESS if the message was successfullt sent. X_NO_INIT if the <a class="el" href="structRedis.html" title="Structure that represents a Redis database instance, with one or more RedisClient connections.">Redis</a> library was not initialized via initRedis(). X_NO_SERVICE if there was a connection problem. PARSE_ERROR if the <a class="el" href="structRedis.html" title="Structure that represents a Redis database instance, with one or more RedisClient connections.">Redis</a> response could not be confirmed. or the errno returned by send();</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="redisx-sub_8c.html#a3ae6a78cececda6a1a495eebefbd57e9">redisxPublish()</a> </dd>
<dd>
<a class="el" href="redisx-sub_8c.html#a89b6c2128548882616c081553ea2436c">redisxPublishAsync()</a> </dd>
<dd>
<a class="el" href="redisx-sub_8c.html#a0aa27b4fce0d0986cae75dfe7fa12f19">redisxSubscribe()</a> </dd></dl>

<p class="reference">References <a class="el" href="redisx-sub_8c.html#a3ae6a78cececda6a1a495eebefbd57e9">redisxPublish()</a>, and <a class="elRef" href="../../xchange/apidoc/html/xchange_8h.html#a7b2679c964ea5f2160380ed55654b873">X_SUCCESS</a>.</p>

</div>
</div>
<a id="a3ae6a78cececda6a1a495eebefbd57e9" name="a3ae6a78cececda6a1a495eebefbd57e9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3ae6a78cececda6a1a495eebefbd57e9">&#9670;&#160;</a></span>redisxPublish()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int redisxPublish </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structRedis.html">Redis</a> *&#160;</td>
          <td class="paramname"><em>redis</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sends a generic <a class="el" href="structRedis.html" title="Structure that represents a Redis database instance, with one or more RedisClient connections.">Redis</a> PUB/SUB message on the specified channel. <a class="el" href="structRedis.html" title="Structure that represents a Redis database instance, with one or more RedisClient connections.">Redis</a> must be connected before attempting to send messages. It will send the message over the pipeline client if it is avaiable, or else over the interactive client.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">redis</td><td>Pointer to a <a class="el" href="structRedis.html" title="Structure that represents a Redis database instance, with one or more RedisClient connections.">Redis</a> instance. </td></tr>
    <tr><td class="paramname">channel</td><td><a class="el" href="structRedis.html" title="Structure that represents a Redis database instance, with one or more RedisClient connections.">Redis</a> PUB/SUB channel on which to notify </td></tr>
    <tr><td class="paramname">data</td><td>Data to send. </td></tr>
    <tr><td class="paramname">length</td><td>Bytes of data to send, or 0 to determine automatically with strlen().</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>X_SUCCESS if the message was successfullt sent. X_NO_INIT if the <a class="el" href="structRedis.html" title="Structure that represents a Redis database instance, with one or more RedisClient connections.">Redis</a> library was not initialized via initRedis(). X_NO_SERVICE if there was a connection problem. PARSE_ERROR if the <a class="el" href="structRedis.html" title="Structure that represents a Redis database instance, with one or more RedisClient connections.">Redis</a> response could not be confirmed. or the errno returned by send().</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="redisx-sub_8c.html#ace918fd1adb80e26cfae107685a314e0">redisxNotify()</a> </dd>
<dd>
<a class="el" href="redisx-sub_8c.html#a89b6c2128548882616c081553ea2436c">redisxPublishAsync()</a> </dd>
<dd>
<a class="el" href="redisx-sub_8c.html#a0aa27b4fce0d0986cae75dfe7fa12f19">redisxSubscribe()</a> </dd></dl>

<p class="reference">References <a class="el" href="structRedis.html#aecb3b0d045ada529257a2fbf8f829599">Redis::id</a>, <a class="el" href="structRedis.html#af51011d99955d6f036a9f2c291577749">Redis::interactive</a>, <a class="el" href="redisx-client_8c.html#aad864c08ef9365c264c30bbacb0b77b2">redisxLockConnected()</a>, <a class="el" href="redisx-sub_8c.html#a89b6c2128548882616c081553ea2436c">redisxPublishAsync()</a>, <a class="el" href="redisx-client_8c.html#a87efe53c80fcff3fcf189362cbc602f7">redisxUnlockClient()</a>, <a class="elRef" href="../../xchange/apidoc/html/xchange_8c.html#ae73aaf705dc4e7d58dfb0fd81f4805c7">x_error()</a>, <a class="elRef" href="../../xchange/apidoc/html/xchange_8h.html#aadbbe3ae01369cbddf4d57d430b33133">X_NULL</a>, <a class="elRef" href="../../xchange/apidoc/html/xchange_8h.html#a7b2679c964ea5f2160380ed55654b873">X_SUCCESS</a>, and <a class="elRef" href="../../xchange/apidoc/html/xchange_8h.html#a1f038bf7ddb58819805cfc44162cb403">xvprintf</a>.</p>

</div>
</div>
<a id="a89b6c2128548882616c081553ea2436c" name="a89b6c2128548882616c081553ea2436c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a89b6c2128548882616c081553ea2436c">&#9670;&#160;</a></span>redisxPublishAsync()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int redisxPublishAsync </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structRedis.html">Redis</a> *&#160;</td>
          <td class="paramname"><em>redis</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sends a <a class="el" href="structRedis.html" title="Structure that represents a Redis database instance, with one or more RedisClient connections.">Redis</a> notification asynchronously using the <a class="el" href="structRedis.html" title="Structure that represents a Redis database instance, with one or more RedisClient connections.">Redis</a> "PUBLISH" command. The caller should have an exclusive lock on the interactive <a class="el" href="structRedis.html" title="Structure that represents a Redis database instance, with one or more RedisClient connections.">Redis</a> channel before calling this.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">redis</td><td>Pointer to a <a class="el" href="structRedis.html" title="Structure that represents a Redis database instance, with one or more RedisClient connections.">Redis</a> instance. </td></tr>
    <tr><td class="paramname">channel</td><td><a class="el" href="structRedis.html" title="Structure that represents a Redis database instance, with one or more RedisClient connections.">Redis</a> PUB/SUB channel on which to notify </td></tr>
    <tr><td class="paramname">data</td><td>Message body data. </td></tr>
    <tr><td class="paramname">length</td><td>Bytes of message data to send, ot 0 to determine automatically with strlen().</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>X_SUCCESS (0) if successful, or else X_NULL if the redis instance is NULL X_NAME_INVALID if the PUB/SUB channel is null or empty</dd></dl>
<p>or an error code returned by <a class="el" href="redisx-client_8c.html#a899f4f8853add789db4bd4de106fd6d8">redisxSendArrayRequestAsync()</a>.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="redisx-sub_8c.html#a3ae6a78cececda6a1a495eebefbd57e9">redisxPublish()</a> </dd>
<dd>
<a class="el" href="redisx-sub_8c.html#ace918fd1adb80e26cfae107685a314e0">redisxNotify()</a> </dd></dl>

<p class="reference">References <a class="el" href="structRedis.html#af51011d99955d6f036a9f2c291577749">Redis::interactive</a>, <a class="el" href="redisx-client_8c.html#a899f4f8853add789db4bd4de106fd6d8">redisxSendArrayRequestAsync()</a>, <a class="el" href="redisx-client_8c.html#a44c5d0bd24f5a4f2f131218f14c9c599">redisxSkipReplyAsync()</a>, <a class="elRef" href="../../xchange/apidoc/html/xchange_8c.html#ae73aaf705dc4e7d58dfb0fd81f4805c7">x_error()</a>, <a class="elRef" href="../../xchange/apidoc/html/xchange_8h.html#aadbbe3ae01369cbddf4d57d430b33133">X_NULL</a>, and <a class="elRef" href="../../xchange/apidoc/html/xchange_8h.html#a7b2679c964ea5f2160380ed55654b873">X_SUCCESS</a>.</p>

</div>
</div>
<a id="aeda3fce11d0f9a11428ca405d1e45b69" name="aeda3fce11d0f9a11428ca405d1e45b69"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeda3fce11d0f9a11428ca405d1e45b69">&#9670;&#160;</a></span>redisxRemoveSubscribers()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int redisxRemoveSubscribers </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structRedis.html">Redis</a> *&#160;</td>
          <td class="paramname"><em>redis</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="redisx_8h.html#aeb7d6976a06d6b51780b1c9d3f927ef8">RedisSubscriberCall</a>&#160;</td>
          <td class="paramname"><em>f</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Removes all instances of a subscribe consumer function from the current list of consumers. This calls only deactivates the specified processing callback function(s), without stopping the delivery of associated messages. To stop <a class="el" href="structRedis.html" title="Structure that represents a Redis database instance, with one or more RedisClient connections.">Redis</a> sending messages that are no longer being processed, you should also call <a class="el" href="redisx-sub_8c.html#accafa9bf1ced851cc2e95c2d9fa1e9f8">redisxUnsubscribe()</a> as appropriate.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">redis</td><td>Pointer to a <a class="el" href="structRedis.html" title="Structure that represents a Redis database instance, with one or more RedisClient connections.">Redis</a> instance. </td></tr>
    <tr><td class="paramname">f</td><td>The consumer function to remove from the list of active subscribers.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of instances of f() that have been removed from the list of subscribers.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="redisx-sub_8c.html#a4c268c33f23438af67117b09c26ec615">redisxAddSubscriber()</a> </dd>
<dd>
<a class="el" href="redisx-sub_8c.html#af70948d6e1b0e3b8f4fde82d0ce27094">redisxClearSubscribers()</a> </dd>
<dd>
redisxUnsubscrive() </dd></dl>

<p class="reference">References <a class="elRef" href="../../xchange/apidoc/html/xchange_8c.html#ae73aaf705dc4e7d58dfb0fd81f4805c7">x_error()</a>, <a class="elRef" href="../../xchange/apidoc/html/xchange_8h.html#aadbbe3ae01369cbddf4d57d430b33133">X_NULL</a>, and <a class="elRef" href="../../xchange/apidoc/html/xchange_8h.html#a1f038bf7ddb58819805cfc44162cb403">xvprintf</a>.</p>

</div>
</div>
<a id="a0aa27b4fce0d0986cae75dfe7fa12f19" name="a0aa27b4fce0d0986cae75dfe7fa12f19"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0aa27b4fce0d0986cae75dfe7fa12f19">&#9670;&#160;</a></span>redisxSubscribe()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int redisxSubscribe </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structRedis.html">Redis</a> *&#160;</td>
          <td class="paramname"><em>redis</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>pattern</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Subscribe to a specific <a class="el" href="structRedis.html" title="Structure that represents a Redis database instance, with one or more RedisClient connections.">Redis</a> channel. The call will also start the subscription listener thread to processing incoming subscription messages. Subscribing only enabled the delivery of the messages to this client without any actions on these messages. In order to process the messages for your subscriptons, you will also want to call <a class="el" href="redisx-sub_8c.html#a4c268c33f23438af67117b09c26ec615">redisxAddSubscriber()</a> to add your custom processor function(s).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">redis</td><td>Pointer to a <a class="el" href="structRedis.html" title="Structure that represents a Redis database instance, with one or more RedisClient connections.">Redis</a> instance. </td></tr>
    <tr><td class="paramname">pattern</td><td>The Channel pattern to subscribe to, e.g. 'acc1', or 'acc*'...</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>X_SUCCESS if successfully subscribed to the <a class="el" href="structRedis.html" title="Structure that represents a Redis database instance, with one or more RedisClient connections.">Redis</a> distribution channel. X_NO_SERVICE if there is no active connection to the <a class="el" href="structRedis.html" title="Structure that represents a Redis database instance, with one or more RedisClient connections.">Redis</a> server. X_NULL if the channel argument is NULL</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="redisx-sub_8c.html#a4c268c33f23438af67117b09c26ec615">redisxAddSubscriber()</a> </dd>
<dd>
<a class="el" href="redisx-sub_8c.html#accafa9bf1ced851cc2e95c2d9fa1e9f8">redisxUnsubscribe()</a> </dd>
<dd>
<a class="el" href="redisx-sub_8c.html#ace918fd1adb80e26cfae107685a314e0">redisxNotify()</a> </dd>
<dd>
<a class="el" href="redisx-sub_8c.html#a3ae6a78cececda6a1a495eebefbd57e9">redisxPublish()</a> </dd>
<dd>
<a class="el" href="redisx-sub_8c.html#a89b6c2128548882616c081553ea2436c">redisxPublishAsync()</a> </dd></dl>

<p class="reference">References <a class="el" href="redisx-client_8c.html#aad864c08ef9365c264c30bbacb0b77b2">redisxLockConnected()</a>, <a class="el" href="redisx-client_8c.html#afc7b28288c07baf0b3c8fdc9d8ddf263">redisxSendRequestAsync()</a>, <a class="el" href="redisx-client_8c.html#a87efe53c80fcff3fcf189362cbc602f7">redisxUnlockClient()</a>, <a class="el" href="structRedis.html#aa4878fb8cef61468ee8e7426a973a75c">Redis::subscription</a>, <a class="elRef" href="../../xchange/apidoc/html/xchange_8c.html#ae73aaf705dc4e7d58dfb0fd81f4805c7">x_error()</a>, <a class="elRef" href="../../xchange/apidoc/html/xchange_8h.html#aadbbe3ae01369cbddf4d57d430b33133">X_NULL</a>, and <a class="elRef" href="../../xchange/apidoc/html/xchange_8h.html#a7b2679c964ea5f2160380ed55654b873">X_SUCCESS</a>.</p>

</div>
</div>
<a id="accafa9bf1ced851cc2e95c2d9fa1e9f8" name="accafa9bf1ced851cc2e95c2d9fa1e9f8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#accafa9bf1ced851cc2e95c2d9fa1e9f8">&#9670;&#160;</a></span>redisxUnsubscribe()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int redisxUnsubscribe </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structRedis.html">Redis</a> *&#160;</td>
          <td class="paramname"><em>redis</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>pattern</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Unsubscribe from one or all <a class="el" href="structRedis.html" title="Structure that represents a Redis database instance, with one or more RedisClient connections.">Redis</a> PUB/SUB channel(s). If there are no active subscriptions when <a class="el" href="structRedis.html" title="Structure that represents a Redis database instance, with one or more RedisClient connections.">Redis</a> confirms the unsubscrive command, the subscription listener thread will also conclude automatically. Unsubscribing will stop delivery of mesasages for the affected channels but any associated processing callbacks remain registered, until redisxRemovesubscribers() is called to deactive them as appropriate.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">redis</td><td>Pointer to a <a class="el" href="structRedis.html" title="Structure that represents a Redis database instance, with one or more RedisClient connections.">Redis</a> instance. </td></tr>
    <tr><td class="paramname">pattern</td><td>The channel pattern, or NULL to unsubscribe all channels and patterns.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>X_SUCCESS if successfully subscribed to the <a class="el" href="structRedis.html" title="Structure that represents a Redis database instance, with one or more RedisClient connections.">Redis</a> distribution channel. X_NO_SERVICE if there is no active connection to the <a class="el" href="structRedis.html" title="Structure that represents a Redis database instance, with one or more RedisClient connections.">Redis</a> server.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="redisx-sub_8c.html#a0aa27b4fce0d0986cae75dfe7fa12f19">redisxSubscribe()</a> </dd>
<dd>
redisxEndSubscribe() </dd>
<dd>
<a class="el" href="redisx-sub_8c.html#aeda3fce11d0f9a11428ca405d1e45b69">redisxRemoveSubscribers()</a> </dd></dl>

<p class="reference">References <a class="el" href="redisx-client_8c.html#aad864c08ef9365c264c30bbacb0b77b2">redisxLockConnected()</a>, <a class="el" href="redisx-client_8c.html#afc7b28288c07baf0b3c8fdc9d8ddf263">redisxSendRequestAsync()</a>, <a class="el" href="redisx-client_8c.html#a87efe53c80fcff3fcf189362cbc602f7">redisxUnlockClient()</a>, <a class="el" href="structRedis.html#aa4878fb8cef61468ee8e7426a973a75c">Redis::subscription</a>, <a class="elRef" href="../../xchange/apidoc/html/xchange_8c.html#ae73aaf705dc4e7d58dfb0fd81f4805c7">x_error()</a>, <a class="elRef" href="../../xchange/apidoc/html/xchange_8h.html#aadbbe3ae01369cbddf4d57d430b33133">X_NULL</a>, and <a class="elRef" href="../../xchange/apidoc/html/xchange_8h.html#a7b2679c964ea5f2160380ed55654b873">X_SUCCESS</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="redisx-sub_8c.html">redisx-sub.c</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
